# Программы-интерфейсы для ffmpeg'а
## ffmpeg_queue
Используется для массовой перегонки файлов одного формата в файлы другого формата с заданными параметрами, одинаковыми для всех.<br>
На данный момент запуск программы возможен со следующими параметрами (регистр не важен, команды могут начинаться и с "/", а не только с "-"):<br>
-help - вывод списка команд на экран с последующим завершением программы<br>
-ffpath - указание на местонахождение ffmpeg.exe (или другого exe-шника, который получает на вход как минимум пути до входного и выходного файла)<br>
-inSign - замена параметра конвертора "-i" на что-то свое (нужно дла работы с другими exe-шниками)<br>
-outSign - то же самое, но для выходного файла<br>
-formats - ввод формата ввода и вывода через запятую<br>
-inParams - параметры для входного файла<br>
-outParams - параметры для выходного файла<br>
-inDir - задание пути до директории с файлами для конвертации<br>
-outDir - задание пути до директории для переконвертированных файлов<br>
-skip - пропускать ошибки ffmpeg'а (ситуации, когда он возвращает не 0 при завершении). Будет включено автоматически, если не будет реакции пользователя за 20 секунд после ошибки<br>
-noUser - консольный параметр, отключает интерфейс-меню<br>
-shutdown - при включении, компьютер будет выключен через 120 секунд после завершение работы программы. (отмена выключения - "shutdown /a" в cmd).<br>
            Также можно поменять параметр выключения на противоположный, создав в каталоге с входными файлами файл "shutdown.no" для отмены выключения, или "shutdown.yes" для выключения<br>
-noOverrideOutDir - при включении этого параметра, папка входных файлов может быть задана в краткой форме ("folder's name", вместо "C:/.../folder's name") первее папки ввода, и не будет к ней приклеена. Я не думаю, что этот параметр кому-то понадобится.<br>
-noRepairPaths - при включении этого параметра, папка входный файлов в короткой форме не будет приклеена к %cd% запуска программы, а папка вывода - к папке ввода, либо %cd% в зависимости от -noOverrideOutDir<br>
<hr>
<strong>Примеры запуска</strong>:<br>
<i>ffmpeg_queue.exe</i> - программа приготовится к перекодировке avi-файлов в директории запуска в папку "Output [time]" (time - время, прошедшее с 198* года, с которого начинается отсчет в Windows. Перекодировка будет происходить 
в кодеки: H265/HEVC (видео) и Opus (аудио). Расположение ffmpeg'а - C:\ffmpeg\bin\ffmpeg.exe. После запуска будет показано меню, в котором можно поменять все параметры.<br>
<i>%userprofile%\downloads\ffmpeg_queue.exe -ffpath D:\ffmpeg\bin\ffmpeg.exe -inDir %userprofile%\pictures\funnygifs\ -outDir "funny webms from gifs" -formats gif,webm -outParams "-c:v libvpx -qmin 22 -qmax 32 -threads 2 -auto-alt-ref 0" -noUser</i> -
Программа находится в "Загрузках". Перекодируются все gif-файлы в webm-ы из Изображения\funnygifs в "Изображения\funnygifs\funny webms from gifs" с данными параметрами, ffmpeg.exe находится на диске D, меню с ожиданием выводиться не будет.<br>
<i>ffmpeg_queue.exe -formats "avi, mkv" -outParams "-c:v libx264 -qmin:v 25 -crf:v 28 -qmax:v 31 -c:a libopus -vbr:a on -b:a 192k"</i> - программа находится в папке с видео, мы запускаем ее оттуда же. Перекодируются все avi-файлы 
из папки запуска в автоматически созданную папку "Output [time]" формат mkv с данными параметрами, меню будет показано, при возникновении ошибок можно будет отреагировать.<br>
<i>ffmpeg_queue.exe -formats jps,jpg -outParams "-vf stereo3d=in=sbsr:out=arcd -q:v 1"</i> - все стереопары в формате jps в папке запуска будут превращены в анаглифное изображение в формате jpg в папке "Output [time]".<br>
<strong>Другие примеры</strong>:<br>
<i>%userprofile%\downloads\ffmpeg_queue.exe -noOverrideOutDir -outDir "output" -inDir %userprofile%\music -formats mp3,mp3 -outParams "-q:a 4"</i> - Программа находится в "Загрузках". Перекодируются все mp3-файлы в "Музыке", 
вывод будет совершен в **папку, в которой была открыта консоль на момент запуска из нее команды**\output.<br>
<i>%userprofile%\downloads\ffmpeg_queue.exe -noRepairPaths -inDir "music flac" -outDir "music mp3" -formats flac,mp3 -outParams "-b:a 256k"</i> - Программа находится в "Загрузках". Перекодируются все flac-файлы в 
"%userprofile%\downloads\music flac" в mp3-файлы в "%userprofile%\downloads\music mp3".<br>
<i>ffmpeg_queue.exe -ffpath copy -inSign "" -outParams "" -formats pns,png -outDir "Stereo pngs"</i> - Вместо ffmpeg.exe используется утилита copy, вместо "-i" используется пустая строка: все pns-файлы будут скопированы в "Stereo pngs\" с 
заменой формата на png.<br>